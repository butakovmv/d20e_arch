# ADR2. Архитектурно значимые требования

| Актуальное | Принято 21.07.23                          |
|------------|-------------------------------------------|
| Участники  | Бутаков М.В.                              |
| Изменения  | 20.07.23 - Создано<br/>21.07.23 - Принято |

Задача: выявить функциональные и нефункциональные требования, выделить из них архитектурно значимые.

<!-- TOC -->
* [ADR2. Архитектурно значимые требования](#adr2-архитектурно-значимые-требования)
  * [Функциональные требования](#функциональные-требования)
  * [Нефункциональные требования](#нефункциональные-требования)
    * [Оценка важности свойств системы стейкхолдерами](#оценка-важности-свойств-системы-стейкхолдерами)
    * [Значимые сейчас](#значимые-сейчас)
    * [Значимые в перспективе](#значимые-в-перспективе)
    * [Незначительные](#незначительные)
  * [Архитектурно-значимые требования](#архитектурно-значимые-требования)
<!-- TOC -->

## Функциональные требования

- В системе должны быть:
    - аутентификация через внешний сервис;
    - поиск компании для прохождения;
    - листы персонажа;
    - карта местности;
    - чат кампании для игроков-участников;
    - инструменты для управления персонажем;
    - инструменты для создания кампании, редактирования карты, персонажей, предметов, сюжета;
    - звуковые эффекты и музыка;
    - настраиваемые подсказки ведущему;
    - генератор/конструктор игровых объектов;
    - обучение начинающих;
    - экспорт персонажей, прохождения и кампаний;
    - импорт персонажей из других популярных платформ;
    - модуль с правилами D&D 5;
    - модуль с правилами Pathfinder 2.
- Чат должен поддерживать текст, смайлики, стикеры (картинки с эмоциями или мемами), реакции на сообщения. Голосовое
  общение в Discord.
- Подсказки по типичным реакциям, возможность настраивать эти подсказки под свой стиль ведения игры или имитацию стиля
  определенного ДМ.

## Нефункциональные требования

### Оценка важности свойств системы стейкхолдерами

| Описание свойства системы                                                                                                                | Заказчик | ДМ    | Игрок | Разработчик | Сопровождение |
|------------------------------------------------------------------------------------------------------------------------------------------|----------|-------|-------|-------------|---------------|
| В предусмотренный период любой запрос будет обслужен _(Доступность)_                                                                     | важно    | важно | важно | -           | -             |
| Сохраняет свою работоспособность после отказа одной или нескольких ее составных частей _(Отказоустойчивость)_                            | важно    | важно | важно | -           | -             |
| Быстро реагирует, для легких задач дает ответ сразу, для тяжелых задач информирует о прогрессе или прогнозах выполнения _(Отзывчивость)_ | важно    | важно | важно | -           | -             |
| Проста в использовании и понятна _(Эргономичность)_                                                                                      | важно    | важно | важно | -           | -             |
| Совместима с другими системами _(Совместимость)_                                                                                         | важно    | важно | важно | -           | -             |
| Легко диагностируется, информирует о текущем состоянии, дает информацию о ходе выполнения в прошлом _(Сопровождаемость)_                 | важно    | -     | -     | важно       | важно         |
| Проста в обслуживании и обновлении _(Обслуживаемость)_                                                                                   | важно    | -     | -     | важно       | важно         |
| Быстро добавить новую локализацию _(Локализация)_                                                                                        | важно    | важно | -     | -           | -             |
| Интеграция с системой документирована _(Внешняя документация)_                                                                           | важно    | важно | -     | -           | -             |
| Внутреннее устройство документировано _(Внутренняя документация)_                                                                        | важно    | -     | -     | важно       | -             |
| Позволяет добавлять новые части без существенной переработки готовых частей _(Модифицируемость)_                                         | важно    | -     | -     | важно       | -             |
| Защищена от несанкционированного доступа _(Безопасность)_                                                                                | важно    | -     | -     | -           | -             |
| Соответствует всем применимым законам и правилам _(Легальность)_                                                                         | важно    | -     | -     | -           | -             |
| Имеет возможность увеличивать или уменьшать масштаб по мере необходимости _(Масштабируемость)_                                           | важно    | -     | -     | -           | -             |
| Способна обслуживать необходимое количество пользователей без снижения производительности _(Производительность)_                         | важно    | -     | -     | -           | -             |
| Позволяет выделить часть без масштабной переработки других частей _(Разделяемость)_                                                      | -        | -     | -     | важно       | -             |
| Есть инструкции для пользователя _(Пользовательская документация)_                                                                       | -        | -     | -     | -           | -             |
| Работает на разных платформах с минимальными изменениями _(Переносимость)_                                                               | -        | -     | -     | -           | -             |

### Значимые сейчас

Наиболее важными свойствами большинство стейкхолдеров признали следующие:
- _Доступность_, _Отказоустойчивость_, _Отзывчивость_ - базовые требования, позволяющие использовать систему по
  назначению - облегчать процесс игры, не привнося излишних проблем. Возникновение проблем в одной части функционала не
  должно катастрофически влиять на другой функционал и вызывать у пользователей ощущение "А у %конкурент% таких
  тормозов/ошибок не было!". **Это важное требование: быть не хуже, чем у основного конкурента.**
- _Эргономичность_ - сделать инструмент более удобный, чем у конкурентов, настолько удобно
  решающий недостатки и затраты времени в других системах, чтобы за этот инструмент пользователь был готов заплатить.
  **Это важное требование: быть удобнее, чем основной конкурент.**
- _Совместимость_ - интеграция с форматами описания персонажа у самых популярных конкурентов для упрощения перехода
  (импорта) в разрабатываемую систему, для снижения порога входа и упрощения возможности попробовать систему.
- _Сопровождаемость_, _Обслуживаемость_ - требования для упрощения процессов диагностики, снижения требований
  специфичных знаний от эксплуатирующего систему, снижение затрат времени на этот процесс, по возможности автоматизация
  обработки непредвиденных ситуаций и советы эксплуатирующему.
- _Масштабируемость_ - при росте числа активных пользователей из определенного часового пояса и прогнозировании там
  увеличения нагрузки нужно достаточно легко увеличить ресурсы в этом часовом поясе для предотвращения снижения
  производительности системы во время пика онлайна и активных игры.
- _Производительность_ - для графика онлайна пользователей характерна волнообразность, как следствие распределения
  свободного времени у игроков, когда большинство игроков освобождается от работы или учебы и может выделить часть
  времени на игру. В кампанию, как правило, подбираются игроки из одного часового пояса или из двух соседних, чтобы
  удобнее было находить время на игру, удобное для каждого. Типичная сессия длится от 2 до 6 часов с наиболее частой
  длительностью в 3-4 часа. Основная волна активности в будни резко начинается после 17-18 часов по местному времени и
  длится до 24-01 часов. В выходные волна активности плавно начинается с 12 часов и плавно заканчивается в 20-24.
  Производительность системы не должна ощутимо падать во время пикового значения онлайна.

### Значимые в перспективе

Менее значимыми стейкхолдерами обозначены, и для которых момент выхода в широкую эксплуатацию может изменить значимость:
- _Модифицируемость_ - на самом деле достаточно важная характеристика, перекликается с функциональным требованием охвата
  разных игровых систем. Нужно заложить возможность подключения плагинов с игровыми системами и генераторами объектов на
  раннем этапе, однако польза будет получена в момент подключения 2-й и последующих игровых систем.
- _Локализация_ - востребовано после выхода в широкую эксплуатацию и распространения за пределы русскоязычных стран.
- Наличие разных видов _документации_ будет полезно на более поздних этапах жизненного цикла системы, снижает риски
  утраты знаний о системе при смене команды разработки/сопровождения.
- _Легальность_ - не играет решающей роли до момента выхода в широкую эксплуатацию. Возможные влияния на систему исходят
  из сферы авторских прав и получения платежей. При распространении за пределы РФ может потребовать дополнительных
  исследований и затрат.

### Незначительные

Менее значимы и не играют особой роли ни до выхода в широкую эксплуатацию, ни после:
- _Безопасность_ - не играет решающей роли, поскольку система не хранит персональных, конфиденциальных, медицинских и
  т.д. чувствительных данных, за ненадлежащую обработку или утечку которых могут примениться санкции.
- _Разделяемость_ - в обозримом будущем не потребуется выделять части, помимо изначальных функциональных блоков, ни для
  более точного управления нагрузкой, ни для отдельных развертываний и запусков. Появление дополнительной команды
  разработки, разделение кода согласно _закону Конвея_ возможно только в отношении модуля с обучением и подсказками (при
  появлении специалистов с глубокими компетенциями в ML), который рекомендуется сразу выделить отдельно. Гораздо чаще
  будет возникать задача расширения функционала, решаемая плагинами для обеспечения _Модифицируемости_.
- _Пользовательская документация_ - планируется решать за счет подсказок и обучений, заложенных в пункте
  _Эргономичность_.

## Архитектурно-значимые требования                                                                               
